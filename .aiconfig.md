# AI Agent Contract (with Spec-Kit + Context7 MCP)

Any AI coding/refactoring agent working on this repository **must follow these rules**:

1. **Spec-Driven Workflow**
   - Use **Spec Kit** (`/constitution`, `/specify`, `/plan`, `/tasks`, `/implement`) for all new features.
   - Place feature specs in `/specs/`.

2. **Documentation Rules**
   - All developer docs go in `/docs/`.
   - Update `/docs/changelog.md` for each major change.

3. **TDD Rules**
   - Always apply Red → Green → Refactor.
   - Add missing tests before making changes.

4. **GitHub Rules**
   - Atomic commits with descriptive messages.
   - Commit messages must start with one of:
     `Refactor|Fix|Add|Update|Remove|Docs|Spec`
   - PRs must be small, stackable, and reference specs/docs.

5. **Dependencies & Environment**
   - Use Poetry or pip-tools for dependency management.
   - Maintain lockfiles (`poetry.lock` or `requirements.lock`).
   - Always reference **Context7 MCP** (`use context7`) for libraries and APIs.

6. **Error Handling & Security**
   - Use centralized error management.
   - Harden code against injection, validation, and security flaws.
   - Follow `/docs/security.md`.

⚠️ **This contract is binding**: Any code or refactor not following these rules must be rejected.