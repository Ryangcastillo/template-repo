# AI Agent Contract (Generic Project Edition)

Any AI coding/refactoring agent working on this repository **must follow these rules**:

1. **Spec-Driven Workflow**
   - Use **Spec Kit** (`/constitution`, `/specify`, `/plan`, `/tasks`, `/implement`) for all new features.
   - Place feature specs in `/specs/`.

2. **Project Architecture**
   - All source code must live in `/src/`.
   - All tests must live in `/tests/`.
   - Docs must live in `/docs/`.

3. **Documentation Rules**
   - Update `/docs/changelog.md` for every major change.
   - Update `/docs/api.md` for every new API or service endpoint.

4. **TDD Rules**
   - Always apply Red → Green → Refactor.
   - Add missing tests before making changes.
   - Use the project's native test framework (Jest, Mocha, Pytest, JUnit, Go test, etc.).

5. **GitHub Rules**
   - Atomic commits with descriptive messages.
   - Commit messages must start with:
     `Refactor|Fix|Add|Update|Remove|Docs|Spec`
   - PRs must be small, stackable, and reference specs/docs.

6. **Dependencies & Environment**
   - Use the language's native dependency manager (npm, pip, poetry, go mod, cargo, maven, gradle, etc.).
   - Lockfiles (`package-lock.json`, `poetry.lock`, `requirements.lock`, `go.sum`, etc.) must be committed.
   - Always reference **Context7 MCP** (`use context7`) for dependency APIs.

7. **Error Handling & Security**
   - Centralize error handling when possible.
   - Harden code against injection, misconfigurations, and insecure defaults.
   - Follow `/docs/security.md`.

8. **API Monitoring**
   - Every new endpoint must be added to `/postman/collection.json`.
   - CI/CD runs Postman tests (`newman`) after unit tests.

⚠️ **This contract is binding**: Any code or refactor not following these rules must be rejected.